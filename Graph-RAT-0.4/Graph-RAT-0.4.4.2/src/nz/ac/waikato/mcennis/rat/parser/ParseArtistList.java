/* * ParseArtistList.java * * Created on 12 June 2007, 13:33 * * Copyright Daniel McEnnis - published under Aferro GPL (see license.txt) */package org.mcennis.graphrat.parser;import java.io.IOException;import java.io.InputStream;import org.mcennis.graphrat.crawler.Crawler;import nz.ac.waikato.mcennis.rat.graph.artist.decider.ArtistDecider;/** * Class for parsing a newline-deliminated list of artists into an artist decider * * @author Daniel McEnnis */public class ParseArtistList implements Parser{        ArtistDecider decider=null;    String id = null;        /** Creates a new instance of ParseArtistList */    public ParseArtistList() {    }        @Override    public void parse(InputStream data) {        java.io.LineNumberReader reader = new java.io.LineNumberReader(new java.io.InputStreamReader(data));        try {            String item = reader.readLine();            while((item != null)&&(!item.contentEquals(""))){                if(reader.getLineNumber()%1000 == 0){                    System.out.println("Loading Artist "+reader.getLineNumber());                }                decider.addArtist(item.toLowerCase());                item = reader.readLine();            }        } catch (IOException ex) {            ex.printStackTrace();        }    }    @Override    public ParsedObject get() {        return decider;    }    @Override    public Parser duplicate() {        ParseArtistList ret = new ParseArtistList();        ret.decider = decider;        return ret;    }    /**     * Identical to parse     * @param data read new line deliminated artist list     * @param crawler ignored     */    public void parse(InputStream data, Crawler crawler) {        parse(data);    }        /**     * Sets the decider to be loaded     * @param d decider to be loaded     */    public void setDecider(ArtistDecider d){        decider = d;        }        @Override    public void set(ParsedObject o) {        if(o instanceof ArtistDecider){            decider = (ArtistDecider)o;        }    }    public void setName(String name) {        id = name;    }    public String getName() {        return id;    }}