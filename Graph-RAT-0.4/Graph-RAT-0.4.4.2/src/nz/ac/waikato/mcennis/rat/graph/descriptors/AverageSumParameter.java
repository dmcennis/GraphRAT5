/* * AverageSumParameter.java * * Created on 14 September 2007, 20:07 * * Copyright Daniel McEnnis, published under Aferro GPL (see license.txt) */package nz.ac.waikato.mcennis.rat.graph.descriptors;/** * *  * Extension of BasicParameter that causes all double values to not overwrite * the previous value, but maintain a running average of all values. * @author Daniel McEnnis */public class AverageSumParameter extends BasicParameter{    int n=0;    /** Creates a new instance of AverageSumParameter */    public AverageSumParameter() {        super();    }    /**     * Set the actual value to the average of all inputs seen.     */    public void setValue(Object o) {       if((Double.class.equals(super.getType()))&&(o instanceof Double)){           super.setValue(new Double((((Double)o).doubleValue()+n*((Double)super.getValue()).doubleValue())/(n+1)));           ++n;       }else if((Float.class.equals(super.getType()))&&(o instanceof Float)){           super.setValue(new Float(((Float)o).floatValue()+n*((Float)super.getValue()).floatValue()/(n+1)));       }else if((Integer.class.equals(super.getType()))&&(o instanceof Integer)){           super.setValue(new Integer(((Integer)o).intValue()+n*((Integer)super.getValue()).intValue()/(n+1)));       }else{           super.setValue(o);       }    }    }